<template>
  <section>
    <div
      class="skill-div"
      id="start"
      @mouseenter="line.show('draw')"
      @mouseleave="line.hide('draw')"
      ref="start"
    >
      <img src="../../assets/js-logo.png" alt="" />
    </div>
    <div class="skill-div" end="end" ref="end">
      <img src="../../assets/js-logo.png" alt="" />
    </div>
  </section>
</template>
<script>
import LeaderLine from "../scripts/leader-line";

export default {
  data() {
    return {
      startDiv: this.$refs.start,
      endDiv: this.$refs.end,
    };
  },
  mounted() {
    this.startDiv = this.$refs.start;
    this.endDiv = this.$refs.end;
    this.line = new LeaderLine(this.startDiv, this.endDiv, {
      showEffectName: "draw",
      endPlugColor: "#535bf2",
      startPlugColor: "#535bf2",
      color: "#535bf2",
      endPlug: "disc",
      startPlug: "disc",
      gradient: {
        endColor: "#535bf2",
        startColor: "#fff",
      },
      dropShadow: {
        dx: 0,
        dy: 10,
        blur: 5,
      },
    });
    const that = this;
    const handler = function (enteries) {
      enteries.forEach(function (entry) {
        if (entry.isIntersecting) {
          that.line.show("draw");
        } else {
          that.line.hide("draw");
        }
      });
    };
    const options = {}; //{ rootMargin: "-10s% 0%", threshold: 1 };
    this.observer = new IntersectionObserver(handler, options);
    this.observer.observe(this.startDiv);
  },
};
</script>
<style scoped>
@tailwind base;
@tailwind components;
@tailwind utilities;
section {
  display: grid;
  grid-auto-columns: auto;
}
#start {
  justify-self: right;
}
@layer components {
  .skill-div {
    @apply w-12 h-12 m-4;
  }
}
</style>
